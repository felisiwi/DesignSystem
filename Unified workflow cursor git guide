Claude × Cursor × GitHub – Integrated Workflow Guide

Version: 1.0
Owner: Felix Isidorsson
Scope: Reproducible setup for code-first ideation, reliable context in chats, and durable documentation.

0) Why this setup works

One source of truth (GitHub). All context (code, data, docs, session notes) lives in the repo. Every tool reads from here.

Clear roles per tool.

Cursor → coding, tests, quick refactors, and automatic delta commits.

Claude Projects (desktop/web) → reasoning & design iteration with guaranteed repo context.

Claude Code (claude.ai/code) → deep repo browsing & scripted tasks when you need the agent inside the filesystem sandbox.

Local CLI (PowerShell + bash) → repeatable sync/append tasks (claude-export, claude-sync) into your docs.

Stateless chats, stateful repo. If a chat hits limits, you start a new one and summarise → saved as Markdown → appended to the master doc by claude-export. Nothing is trapped in a conversation.

1) Required repo structure (works for any component)

Use these top-level folders (capitalisation and spaces matter; prefer PascalCase for components and underscores for multi-word folders):

/claude_prompts/
  start-of-chat.md
  end-of-chat.md
  claude-local-setup.md           (optional helper notes)

 /notes/
  /claude-sessions/
    /<ComponentName>/
      <ComponentName>_MASTER.md   (canonical doc)
      <ComponentName>_YY_MMDD.md  (per-session summaries)

 /Data/
  /swipe_diagnostics/             (CSV or data inputs)

 /src/
  /components/
    /<ComponentName>/
      <live>.tsx                  (current live implementation)
      API_Reference.md
      <ComponentName>.test.ts
      /Archive/
        (older versions)


 /Scripts/
  auto_commit.sh                  (Cursor auto-delta script)
  post_chat.sh                    (session → MASTER append)

 .gitignore
 LICENSE
 README.md
 PROJECT_NOTES.md
 package.json / tsconfig / vitest files (as applicable)


Naming convention

Live component = the .tsx file directly inside /src/components/<ComponentName>/.

Older versions, if kept, go in an Archive/ subfolder.

Session files: Carousel_07_021125.md style is fine; keep a single _MASTER.md.

2) GitHub, Cursor and Claude – linkage
2.1 GitHub ↔ Cursor

Open repo folder in Cursor.

Initialise Git if needed: git init → add remote → git push -u origin main.

Sign into GitHub in Cursor (Command Palette → “Sign in to GitHub”).

Confirm the VCS panel tracks changes.

2.2 GitHub ↔ Claude Projects (desktop/web)

In Claude, create a Project.

In Files, add your GitHub repo (content card shows as owner/repo • main).

In Project → Instructions, paste the startup routine (section 4 below).

Turn Memory OFF for this project (we rely on the repo, not memory).

2.3 GitHub ↔ Claude Code

Open claude.ai/code, attach the same repo.

This environment mounts the repo to /mnt/project/ and can list/browse it.

3) Cursor auto-delta commits (keeps a local “paper trail”)

We save succinct “deltas” when you’re actively editing, without spamming history.

auto_commit.sh (in /Scripts/ folder):

#!/usr/bin/env bash
# Commit any code changes once per minute if there are diffs.

while true; do
  # Only code & docs; adjust globs as needed
  if git status --porcelain -- \
      "src/**" "notes/**" "claude_prompts/**" "Data/**" \
      "*.md" "*.ts" "*.tsx" | grep -q .; then
    TS=$(date +"%Y-%m-%d %H:%M")
    git add -A
    git commit -m "delta: changes detected @ ${TS}"
    git push
  fi
  sleep 60
done


Run it (Cursor terminal):

chmod +x Scripts/auto_commit.sh
./Scripts/auto_commit.sh


Tip: keep this running only while you’re actively iterating. It commits only if there are changes.

4) Claude Project startup instructions (the reliable loader)

Paste this into Project → Instructions:

Whenever a new chat starts in this project, do this before answering:

1) Search & load repo knowledge (CRITICAL)
   - Session docs:
     Search: claude-sessions <ComponentName>_MASTER <ComponentName>_ session notes
     Load ALL files under /notes/claude-sessions/ and subfolders
   - Data:
     Search: swipe_diagnostics data csv flick glide velocity distance
     Load ALL files under /Data/ and subfolders
   - Live component code:
     Search: src components tsx <ComponentName> implementation
     Treat the .tsx directly in /src/components/<ComponentName>/ as the LIVE version
   - Utilities & docs:
     Search: API_Reference documentation
     Load API_Reference.md, test files
   - Project meta:
     Search: PROJECT_NOTES project overview
     Load PROJECT_NOTES.md

2) Apply context
   - Treat <ComponentName>_MASTER.md as canonical documentation
   - Treat live .tsx as current implementation
   - Treat CSVs as quantitative evidence
   - Treat session notes as chronological history

3) Respond
   - Only after the above are loaded, answer the first user message.


For multiple components, either keep a single Project and mention all component names in the searches, or create one Project per component for cleaner isolation.
Each new component = new chat thread (clear naming).

5) Start-/End-of-chat prompts (claude_prompts)

Keep plain, app-safe prompts (no file writes).

claude_prompts/start-of-chat.md

"You are my reasoning companion…"

"Load repo context per Project Instructions (session docs, data, live code, utils, meta)…"

"Acknowledge live .tsx location and MASTER doc…"

"Keep answers modular, concise, and export-friendly…"

claude_prompts/end-of-chat.md

“Generate a Session Summary with headings + bullets (decisions, changes, rationale).”

“Name it: <ComponentName>_<YY_MMDD>.md.”

“I will manually save this into /notes/claude-sessions/<ComponentName>/.”

“Do not attempt to write files; just output Markdown.”

Then you copy/paste the summary into the right folder and commit.

6) Local CLI helpers (PowerShell + bash)
6.1 post_chat.sh – append latest session to MASTER

Located in /Scripts/post_chat.sh (robust version with full error handling):

#!/usr/bin/env bash
# post_chat.sh — upgraded automation for component session integration (supports any component)

COMPONENT="${1:-Carousel}"

# Derive session directory from component name
SESSION_DIR="notes/claude-sessions/$COMPONENT"

# Check if directory exists
if [ ! -d "$SESSION_DIR" ]; then
  echo "Component directory not found: $SESSION_DIR"
  echo "Available components:"
  ls -d notes/claude-sessions/*/ 2>/dev/null | sed 's|notes/claude-sessions/||' | sed 's|/||' || echo "  (none found)"
  exit 1
fi

# Find the master file (look for *MASTER.md in the component directory)
MASTER_FILE=$(find "$SESSION_DIR" -maxdepth 1 -name "*MASTER.md" -type f | head -n 1)

if [ -z "$MASTER_FILE" ]; then
  echo "Master file not found in $SESSION_DIR"
  echo "Expected a file matching pattern: *MASTER.md"
  exit 1
fi

# Find the most recently modified session markdown file (excluding the master)
LATEST_SESSION=$(find "$SESSION_DIR" -maxdepth 1 -name "*.md" -type f ! -name "*MASTER*" -printf '%T@ %p\n' 2>/dev/null | sort -rn | head -n 1 | cut -d' ' -f2-)

# Fallback for systems without find -printf (like macOS)
if [ -z "$LATEST_SESSION" ]; then
  LATEST_SESSION=$(ls -t "$SESSION_DIR"/*.md 2>/dev/null | grep -v "MASTER" | head -n 1)
fi

if [ -z "$LATEST_SESSION" ]; then
  echo "No session files found in $SESSION_DIR (excluding master files)."
  exit 1
fi

# Extract key parts from the session file
SESSION_DATE=$(basename "$LATEST_SESSION" | grep -oE '[0-9]{2}_[0-9]{6}' || basename "$LATEST_SESSION" | grep -oE '[0-9]+' | head -n 1 || echo "")
SESSION_TITLE=$(head -n 1 "$LATEST_SESSION" | sed 's/# //')
KEY_POINTS=$(grep -E '^[-*]' "$LATEST_SESSION" | head -n 10)

# Create temporary snippet for integration
if [ -n "$SESSION_DATE" ]; then
  FORMATTED_DATE="${SESSION_DATE//_//}"
else
  FORMATTED_DATE="$(date +%Y-%m-%d)"
fi

TEMP_SNIPPET="$SESSION_DIR/Session_Integration_${SESSION_DATE:-$(date +%s)}.md"

cat <<EOF > "$TEMP_SNIPPET"
## ${SESSION_TITLE:-Session Update} — ${FORMATTED_DATE}

**Summary:** Automatic summary from \`$(basename "$LATEST_SESSION")\`.

**Relevant Sections Updated:** (Add manually if needed)

**Key Additions:**
${KEY_POINTS:-_No bullet points detected; review manually._}

---

EOF

# Insert snippet above the END marker in the master file
awk -v snippet="$TEMP_SNIPPET" '
  BEGIN { inserted=0 }
  {
    if (!inserted && /\*\*END OF MASTER DOCUMENTATION\*\*/) {
      while ((getline line < snippet) > 0) print line
      inserted=1
    }
    print
  }
' "$MASTER_FILE" > "${MASTER_FILE}.tmp" && mv "${MASTER_FILE}.tmp" "$MASTER_FILE"

# Stage, commit, and push changes
git add "$MASTER_FILE" "$TEMP_SNIPPET"
git commit -m "Auto-integrated $(basename "$LATEST_SESSION") into master log"
git push


Run:

bash Scripts/post_chat.sh Carousel
bash Scripts/post_chat.sh ThumbReachMapper

6.2 PowerShell aliases (so you can type short commands)

Open your profile:

notepad $PROFILE


Add:

# allow 'bash' inside PowerShell (Git for Windows path)
Set-Alias bash "C:\Program Files\Git\bin\bash.exe"

# export = run the append script for the active component (default: Carousel)
# NOTE: Use the full function from claude-export-function.ps1 (supports "all" and individual components)
# The function uses & bash (call operator) to ensure PowerShell properly passes arguments
# IMPORTANT: Uses single quotes for strings and no quotes around variables to avoid encoding issues
# See POWERSHELL_SETUP_INSTRUCTIONS.md for the complete, working function
function claude-export { 
    $component = if ($args.Count -gt 0) { $args[0] } else { 'all' }
    if ($component -eq 'all' -or $component -eq '') {
        Write-Host 'Processing ALL components...' -ForegroundColor Cyan
        $componentDirs = Get-ChildItem -Path 'notes/claude-sessions' -Directory -ErrorAction SilentlyContinue
        foreach ($dir in $componentDirs) {
            & bash './Scripts/post_chat.sh' $dir.Name
            Start-Sleep -Milliseconds 500
        }
    } else {
        & bash './Scripts/post_chat.sh' $component
    }
}

# quick commit/push of notes
function claude-sync { git add .; git commit -m 'Sync Claude session notes'; git push }


Restart PowerShell. Now you can run:

claude-export                    # appends latest session → MASTER for ALL components
claude-export all                # same as above - processes all components
claude-export ThumbReachMapper   # processes only ThumbReachMapper
claude-export Carousel           # processes only Carousel
claude-sync

7) Day-to-day workflow (optimized)

Create a dedicated chat per component in your Claude Project.
Name them like: Carousel – v1.1 ideation, Carousel – diagnostics, etc.

Ideate/iterate in Claude (Project) while coding in Cursor.

Cursor’s auto_commit.sh runs while you edit to capture deltas every minute.

When a chat nears limits, simply ask:
“Generate the Session Summary per our end-of-chat prompt.”
Copy the Markdown → save as /notes/claude-sessions/<Component>/<Component>_<YY_MMDD>.md → commit.

Run claude-export to append a small “integration log” block into <Component>_MASTER.md.
(We append; we never regenerate the master automatically.)

New component?

Create /src/components/<NewComponent>/ with a live .tsx.

Create /notes/claude-sessions/<NewComponent>/<NewComponent>_MASTER.md.

Start a new chat thread for it (clean context), keep Memory OFF.

8) Files we include by default (and why)

.gitignore – ignore node_modules, build outputs, logs, temp, OS files. Example:

node_modules/
dist/
.DS_Store
*.log
.env
.cache/


LICENSE – pick MIT (or your choice) so code/doc reuse is clear.

README.md – project overview + “How to run”, link to this guide.

PROJECT_NOTES.md – component index, project context, and higher-level design notes for Claude & Cursor.

claude_prompts/start-of-chat.md & end-of-chat.md – app-safe prompts Claude reads at session start/end.

Scripts/auto_commit.sh – minute-based delta saver while you're editing.

Scripts/post_chat.sh – safe, append-only master integrator.

Tests/Configs – vitest, tsconfig, etc., as your stack requires.

9) Common pitfalls & fixes

Claude “can’t find files”

Ensure the GitHub content card is attached to the Project.

Paths in Project Instructions must match your repo (claude_prompts, not Claude_Prompts).

Capitalisation matters: Data/ ≠ data/, components/ ≠ Components/.

Desktop/web chat says /mnt/project/INSTRUCTIONS only

That means the Project has no repo mounted to it. Add the GitHub card to the Project’s Files.

MASTER doc overwritten

Our workflow is append-only. We never regenerate MASTER automatically. Keep it that way.

Auto-commit is too chatty

Stop the script while idle. Or add glob filters to restrict what it watches.

Hit Claude message limits

End the chat with the Session Summary, save it, start a new chat in the same Project.

10) Minimal "Start-of-chat" & "End-of-chat" (copy into /claude_prompts/)

start-of-chat.md

You are my reasoning companion for this project. Before replying:

• Load repo context per Project Instructions:
  – Session docs under /notes/claude-sessions/
  – Data in /Data/swipe_diagnostics/
  – Live .tsx under /src/components/<ComponentName>/
  – Utils and API_Reference.md
  – Project meta in PROJECT_NOTES.md

• Treat <ComponentName>_MASTER.md as canonical.
• Keep answers modular, concise, export-ready.


end-of-chat.md

Output a single Markdown document:

# <ComponentName> – Session <YY-MMDD>
## Summary
• Key decisions
• What changed (code & rationale)
• Open questions / next steps

## References
• Files touched (paths)
• Data cited (CSV rows/columns if relevant)

(I will save this into /notes/claude-sessions/<ComponentName>/ and run `claude-export`.)

11) When to use which Claude surface

Claude Projects (desktop/web) – your default place for ideation & design discussion with guaranteed repo context (thanks to Project Instructions).

Claude Code – when you want the agent inside a mounted filesystem (quick grep, transforms, scaffolds) without leaving the browser.

Local CLI – when you want predictable, scriptable tasks (append session to MASTER, batch tidy, etc.).

12) Quick start checklist (for any new repo)

Create folders/files exactly as in Section 1.

Add Project Instructions from Section 4; attach the GitHub repo card; turn Memory OFF.

Add Scripts/auto_commit.sh and Scripts/post_chat.sh; chmod +x both.

Set PowerShell aliases for claude-export and claude-sync.

Start a new chat per component; name threads clearly.

When a chat fills up: generate Session Summary → save Markdown → claude-export.

---

## LICENSE (MIT)

MIT License

Copyright (c) [Your Name]

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.

Why MIT is recommended: It's permissive, compatible with both open and private repos, and doesn't restrict derivative use — ideal for flexible creative-technical projects like this one.